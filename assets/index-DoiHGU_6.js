(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&t(c)}).observe(document,{childList:!0,subtree:!0});function o(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function t(n){if(n.ep)return;n.ep=!0;const a=o(n);fetch(n.href,a)}})();function w(e,r){return Array.from({length:e},(o,t)=>r(t))}function l(e){const r=new Image;return r.src=e,r}const p=new Set,d=new Set;function O(e){return p.has(e)?(Promise.resolve().then(()=>d.add(e)),!d.has(e)):(d.delete(e),!1)}addEventListener("keydown",({code:e})=>{p.add(e)});addEventListener("keyup",({code:e})=>{p.delete(e)});addEventListener("blur",()=>{p.clear(),d.clear()});function A(e){let r=requestAnimationFrame(t),o=performance.now();function t(n){r=requestAnimationFrame(t),e(n-o,o=n)}return()=>{cancelAnimationFrame(r)}}function I(e){const r=Array.from(e);return r[Math.random()*r.length|0]}function f(e,r){return Math.random()*(r-e)+e|0}const x=document.querySelector("canvas"),i=x.getContext("2d"),h={cat:{run:l("/cat/run.png"),jump:l("/cat/jump.png"),fall:l("/cat/fall.png")},clouds:w(8,e=>l(`/cloud/${e}.png`)),rocks:l("/rocks.png")};x.width=600;x.height=300;i.imageSmoothingEnabled=!1;function S(){return{x:f(0,600),y:f(0,200),img:I(h.clouds),move:Math.random()*.1+.1}}function b(){return{x:664,sx:f(0,3),sy:f(0,2),move:.3}}let m=250,u=0,s=!1,y=!1,P=.001,L=0,v=300,E=w(10,()=>S()),g=new Set([b()]);function j(e,r){m+=u*e,u+=P*e,m>250&&(m=250,u=0,s=!1,y=!1),O("Space")&&(!s||!y)&&(u=s?-.3:-.4,s&&(y=!0),s=!0,L=r);for(const t of E)t.x-=t.move*e,t.x+t.img.width<0&&(Object.assign(t,S()),t.x=600+t.img.width);let o=0;for(const t of g)t.x-=e*t.move,o=Math.max(t.x,o),t.x+64<0&&g.delete(t);o<v&&(g.add(b()),v=f(200,500)),F(e,r)}function F(e,r){i.clearRect(0,0,600,300),i.fillStyle="rgba(0, 172, 246, 0.74)",i.fillRect(0,0,600,250);for(const c of E)i.drawImage(c.img,c.x,c.y);for(const c of g)i.drawImage(h.rocks,c.sx*24,c.sy*24,24,24,c.x,198,64,64);i.fillStyle="rgba(60, 113, 60, 1)",i.fillRect(0,250,600,300);const{cat:o}=h;let t=s?4:10,n=((r-L)/100|0)%t,a=s?u<0?o.jump:o.fall:o.run;i.drawImage(a,n*32,0,32,32,32,m-54,64,64)}A(j);
